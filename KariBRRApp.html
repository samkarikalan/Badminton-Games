<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>CLUB Scheduler</title>

  <link rel="stylesheet" href="BRRStyle1.css">
  <link rel="stylesheet" href="BRRStyle2.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script src="main.js" defer></script>
  <script src="home.js" defer></script>
  <script src="players.js" defer></script>
  <script src="rounds.js" defer></script>
  <script src="games.js" defer></script>
  <script src="engjap.js" defer></script>
  <script src="timer.js" defer></script>
  <script src="summary.js" defer></script>
</head>

<body>
  <div class="top-bar">
     <span class="menu-btn" onclick="showPage('homePage', this)">☰</span>
     <span class="app-logo-premium">CLUB Scheduler</span>
   </div>


<!-- ============================= -->
<!--       TOP TAB NAVIGATION      -->
<!-- ============================= -->
<div class="top-tabs">
  <!-- Tabs container -->
  <div class="tabs-container">
    <button class="tab-btn" onclick="showPage('page1', this)" data-i18n="players"></button>
    <button class="tab-btn" onclick="showPage('page2', this)" data-i18n="rounds"></button>
    <button class="tab-btn" onclick="showPage('page3', this)" data-i18n="summary"></button>
    <button class="tab-btn" onclick="showPage('page4', this)" data-i18n="help"></button>
  </div> 

</div>

<!-- ============================= -->
<!--           HOME PAGE           -->
<!-- ============================= -->
<div id="homePage" class="page">

  <div class="settings-wrap">

    <!-- Language -->
    <div class="settings-card card-language">
      <div class="sec" data-i18n="language"></div>
      <div class="row">
        <div class="btn active" id="lang_en" onclick="setLanguage('en')">English</div>
        <div class="btn" id="lang_jp" onclick="setLanguage('jp')">日本語</div>
        <div class="btn" id="lang_kr" onclick="setLanguage('kr')">한국어</div>
        <div class="btn" id="lang_vi" onclick="setLanguage('vi')">Tiếng Việt</div>
      </div>
    </div>

    <!-- Font Size -->
    <div class="settings-card card-font">
      <div class="sec" data-i18n="fontSize"></div>
      <div class="row">
        <div class="btn active" id="font_small" onclick="setFontSize('small')" data-i18n="small"></div>
        <div class="btn" id="font_medium" onclick="setFontSize('medium')" data-i18n="medium"></div>
        <div class="btn" id="font_large" onclick="setFontSize('large')" data-i18n="large"></div>
      </div>
    </div>

    <!-- Theme -->
    <div class="settings-card card-theme">
      <div class="sec" data-i18n="theme"></div>
      <div class="row">
        <div class="btn active" id="theme_light" onclick="setTheme('light')" data-i18n="light"></div>
        <div class="btn" id="theme_dark" onclick="setTheme('dark')" data-i18n="dark"></div>
      </div>
    </div>

    <!-- Reset -->
    <div class="settings-card card-reset">
      <div class="sec" data-i18n="reset"></div>
      <div class="row">
        <div class="btn danger" onclick="ResetAll()" data-i18n="resetAll"></div>
        <div class="btn warn" onclick="resetRounds()" data-i18n="resetExcept"></div>
      </div>
    </div>

        <!-- Export / Save -->
    <div class="settings-card card-export">
      <div class="sec" data-i18n="export"></div>
      <div class="row">
        <div class="btn" onclick="exportBRR2HTML()" 
          data-i18n="exporthtml">  📄 
        </div>
      </div>
    </div>  

    <div class="settings-card card-help">
      <div class="sec" data-i18n="help"></div>
      <div class="row">
        <div class="btn" onclick="initHelpPopup()" 
          data-i18n="help">  📄 
        </div>
      </div>
    </div>  
  </div>
</div>

<!--           PAGE 1              -->
<!--         Players Page          -->
<!-- ============================= -->
<div id="page1" class="page" style="display:none;"> 

  <div class="card">    
    <button onclick="showImportModal()" data-i18n="importPlayers"></button>
  </div> 

  <div class="card">
    <input type="text"
      id="player-name"
      data-i18n-placeholder="enterPlayerName">

    <div class="row-addplayer">  
      <select id="player-gender">
        <option value="Male" data-i18n="male"></option>
        <option value="Female" data-i18n="female"></option>
      </select>
      <button class="add-button" onclick="addPlayer()" data-i18n="addPlayer"></button>
    </div>
  </div>

  <div class="card">
    <div id="playerList" class="player-list"></div>
  </div>

  <div class="card">
    <h3 data-i18n="fixedPairs"></h3>
    <select id="fixed-pair-1"></select>
    <select id="fixed-pair-2"></select>
    <button onclick="modifyFixedPair()" data-i18n="add"></button>

    <div id="fixed-pair-list" class="fixed-pairs-list"></div>
  </div>

</div> <!-- page1 -->

<!-- ============================= -->
<!--           PAGE 2              -->
<!--           Rounds Page         -->
<!-- ============================= -->
<div id="page2" class="page" style="display:none;">  
  <div id="game-results"></div>  
  <div class="row-field">  
    <div class="court-card">
      <label for="num-courts" class="row-label" data-i18n="courts"></label>
      <button class="circle-btn" id="courtMinus">−</button>
      <span id="num-courts">1</span>
      <button class="circle-btn" id="courtPlus">+</button>
    </div>    
    <!-- 🔒 Lock / Unlock Icon -->
    <span class="lock-icon" id="lockToggleBtn">🔒</span>
    <!-- Timer Icon -->
    <div class="timer-card">
  <button id="timerToggleBtn" class="row-label timer-toggle-btn" onclick="toggleTimer()">⏱️</button>

  <button class="circle-btn" id="timerMinus">−</button>
  <span class="timer-display" id="timerDisplay">08:00</span>
  <button class="circle-btn" id="timerPlus">+</button>
</div>




</div>
  
<div class="round-navigation">
  <button id="prevBtn" onclick="prevRound()" disabled data-i18n="pround"></button>  
  <div id="roundTitle" onclick="RefreshRound()">R</div>
  <button id="nextBtn" onclick="nextRound()" disabled data-i18n="nround"></button>  
  
  
</div>

</div>



<!-- Timer Sound -->
<audio id="timerSound">
  <source src="timer.mp3" type="audio/mpeg">
</audio>
 

<!-- ============================= -->
<!--           PAGE 3              -->
<!--        Summary / Report       -->
<!-- ============================= -->
<div id="page3" class="page" style="display:none;">
  <div id="reportContainer"></div>
  <div id="export"></div>
</div>

<div id="page4" class="page" style="display:none;">
 <!-- help 
  <img src="players-help.png" alt="Players Page Help">
-->


<div id="toast" class="toast hidden"></div>  

  <!-- help -->

  <div class="player-help lang-en">

  <!-- 🔵 Male -->
  <section data-lang="en">
    <h3>🔵👨 Blue Player Row (Male)</h3>
    <ul>
      <li>Blue background + man icon = Male player</li>
      <li>Example: Alan</li>
      <li>If the checkbox is checked → the player is active</li>
      <li>Active male players are included in scheduling</li>
    </ul>
  </section>

  <section data-lang="ja">
    <h3>🔵👨 青色プレイヤー行（男性）</h3>
    <ul>
      <li>青色の背景＋男性アイコン＝男性プレイヤー</li>
      <li>例：Alan</li>
      <li>チェックボックスがオン → プレイヤーは有効</li>
      <li>有効な男性プレイヤーはスケジュールに含まれます</li>
    </ul>
  </section>

  <section data-lang="ko">
    <h3>🔵👨 파란색 플레이어 행 (남성)</h3>
    <ul>
      <li>파란색 배경 + 남성 아이콘 = 남성 플레이어</li>
      <li>예: Alan</li>
      <li>체크박스가 선택됨 → 활성 플레이어</li>
      <li>활성 남성 플레이어는 스케줄에 포함됩니다</li>
    </ul>
  </section>

  <section data-lang="vi">
    <h3>🔵👨 Hàng người chơi màu xanh (Nam)</h3>
    <ul>
      <li>Nền xanh + biểu tượng nam = Người chơi nam</li>
      <li>Ví dụ: Alan</li>
      <li>Checkbox được chọn → người chơi đang hoạt động</li>
      <li>Người chơi nam đang hoạt động sẽ được xếp lịch</li>
    </ul>
  </section>

  <hr>

  <!-- 🌸 Female -->
  <section data-lang="en">
    <h3>🌸👩 Pink Player Row (Female)</h3>
    <ul>
      <li>Pink background + woman icon = Female player</li>
      <li>Example: Rose</li>
      <li>If the checkbox is checked → the player is active</li>
      <li>Active female players are included in scheduling</li>
    </ul>
  </section>

  <section data-lang="ja">
    <h3>🌸👩 ピンク色プレイヤー行（女性）</h3>
    <ul>
      <li>ピンクの背景＋女性アイコン＝女性プレイヤー</li>
      <li>例：Rose</li>
      <li>チェックボックスがオン → プレイヤーは有効</li>
      <li>有効な女性プレイヤーはスケジュールに含まれます</li>
    </ul>
  </section>

  <section data-lang="ko">
    <h3>🌸👩 분홍색 플레이어 행 (여성)</h3>
    <ul>
      <li>분홍색 배경 + 여성 아이콘 = 여성 플레이어</li>
      <li>예: Rose</li>
      <li>체크박스가 선택됨 → 활성 플레이어</li>
      <li>활성 여성 플레이어는 스케줄에 포함됩니다</li>
    </ul>
  </section>

  <section data-lang="vi">
    <h3>🌸👩 Hàng người chơi màu hồng (Nữ)</h3>
    <ul>
      <li>Nền hồng + biểu tượng nữ = Người chơi nữ</li>
      <li>Ví dụ: Rose</li>
      <li>Checkbox được chọn → người chơi đang hoạt động</li>
      <li>Người chơi nữ đang hoạt động sẽ được xếp lịch</li>
    </ul>
  </section>

  <hr>

  <!-- ✅ Checkbox -->
  <section data-lang="en">
    <h3>✅ Checkbox Meaning</h3>
    <ul>
      <li>Checked → Player is active</li>
      <li>Unchecked → Player is inactive (not scheduled)</li>
    </ul>
  </section>

  <section data-lang="ja">
    <h3>✅ チェックボックスの意味</h3>
    <ul>
      <li>チェックあり → プレイヤーは有効</li>
      <li>チェックなし → 無効（スケジュールされません）</li>
    </ul>
  </section>

  <section data-lang="ko">
    <h3>✅ 체크박스 의미</h3>
    <ul>
      <li>선택됨 → 활성 플레이어</li>
      <li>해제됨 → 비활성 (스케줄 제외)</li>
    </ul>
  </section>

  <section data-lang="vi">
    <h3>✅ Ý nghĩa Checkbox</h3>
    <ul>
      <li>Được chọn → Người chơi đang hoạt động</li>
      <li>Bỏ chọn → Không hoạt động (không xếp lịch)</li>
    </ul>
  </section>

  <hr>

  <!-- 🗑️ Trash -->
  <section data-lang="en">
    <h3>🗑️ Trash Icon</h3>
    <p>Click the trash bin to remove the player from the list</p>
  </section>

  <section data-lang="ja">
    <h3>🗑️ ゴミ箱アイコン</h3>
    <p>ゴミ箱をクリックするとプレイヤーを削除します</p>
  </section>

  <section data-lang="ko">
    <h3>🗑️ 휴지통 아이콘</h3>
    <p>휴지통을 클릭하면 플레이어가 삭제됩니다</p>
  </section>

  <section data-lang="vi">
    <h3>🗑️ Biểu tượng thùng rác</h3>
    <p>Nhấn vào thùng rác để xóa người chơi khỏi danh sách</p>
  </section>

  <hr>

  <!-- 📊 Rules -->
  <section data-lang="en">
    <h3>📊 Important Rules</h3>
    <ul>
      <li>4 active players = 1 court</li>
      <li>8 active players = 2 courts</li>
      <li>Gender does not affect court count</li>
    </ul>
  </section>

  <section data-lang="ja">
    <h3>📊 重要なルール</h3>
    <ul>
      <li>有効プレイヤー4人＝1コート</li>
      <li>有効プレイヤー8人＝2コート</li>
      <li>性別はコート数に影響しません</li>
    </ul>
  </section>

  <section data-lang="ko">
    <h3>📊 중요 규칙</h3>
    <ul>
      <li>활성 플레이어 4명 = 코트 1개</li>
      <li>활성 플레이어 8명 = 코트 2개</li>
      <li>성별은 코트 수에 영향 없음</li>
    </ul>
  </section>

  <section data-lang="vi">
    <h3>📊 Quy tắc quan trọng</h3>
    <ul>
      <li>4 người chơi hoạt động = 1 sân</li>
      <li>8 người chơi hoạt động = 2 sân</li>
      <li>Giới tính không ảnh hưởng đến số sân</li>
    </ul>
  </section>

  <hr>

  <!-- ⭐ Tips -->
  <section data-lang="en">
    <h3>⭐ Quick Tips</h3>
    <ul>
      <li>Can’t add more courts? Activate more players</li>
      <li>Player not scheduled? Check the checkbox</li>
      <li>Blue / Pink color is visual only</li>
    </ul>
  </section>

  <section data-lang="ja">
    <h3>⭐ クイックヒント</h3>
    <ul>
      <li>コートを追加できない？プレイヤーを有効化してください</li>
      <li>スケジュールされない？チェックを確認</li>
      <li>色は表示のみです</li>
    </ul>
  </section>

  <section data-lang="ko">
    <h3>⭐ 빠른 팁</h3>
    <ul>
      <li>코트를 추가할 수 없나요? 플레이어를 활성화하세요</li>
      <li>스케줄이 안 되나요? 체크박스를 확인하세요</li>
      <li>색상은 시각적 표시용입니다</li>
    </ul>
  </section>

  <section data-lang="vi">
    <h3>⭐ Mẹo nhanh</h3>
    <ul>
      <li>Không thêm được sân? Kích hoạt thêm người chơi</li>
      <li>Không được xếp lịch? Kiểm tra checkbox</li>
      <li>Màu sắc chỉ để hiển thị</li>
    </ul>
  </section>

</div>
  </div>
<!-- ============================= -->
<!--           Import Modal        -->
<!-- ============================= -->
  <!-- Import Modal -->
  <div id="importModal">
  <div class="modal-content">

    <!-- Left Section -->
    <textarea
      id="players-textarea"
      rows="12"
      data-i18n-placeholder="importExample"
      placeholder="Enter or paste player names"
    ></textarea>

    <!-- Right Section -->
    <div class="modal-right">

      <!-- Gender -->
      <div class="gender-radio" data-i18n="gender"></div>
      <div class="gender-radio">
        <label>
          <input type="radio" name="genderSelect" value="Male" checked>
          <span data-i18n="male"></span>
        </label>
        <label>
          <input type="radio" name="genderSelect" value="Female">
          <span data-i18n="female"></span>
        </label>
      </div>

      <!-- Action Buttons -->
      <div class="modal-buttons">

        <!-- 📋 Paste (NEW) -->
        <button
          class="paste-btn"
          onclick="pastePlayersText()"
        >📋 Paste</button>

        <!-- ⬇️ Import (existing) -->
        <button
          class="ok-btn"
          onclick="addPlayersFromText()"
          data-i18n="import"
        ></button>

        <!-- ✖ Cancel (existing) -->
        <button
          class="cancel-btn"
          onclick="hideImportModal()"
          data-i18n="cancel"
        ></button>

      </div>

    </div>

  </div>
</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  
</body>
</html>
